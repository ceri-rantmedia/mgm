package uk.co.cerihughes.denon.core.dao.impl.spotify;

import java.util.List;

import junit.framework.Assert;

import org.json.JSONObject;
import org.junit.Before;
import org.junit.Test;

import uk.co.cerihughes.denon.core.dao.EDaoType;
import uk.co.cerihughes.denon.core.dao.rest.ConverterException;
import uk.co.cerihughes.denon.core.model.Album;

public class TestSpotifyAlbumSearchJsonConverter
{
	private static final String NO_RESULTS_JSON = "{\"info\": {\"num_results\": 0, \"limit\": 100, \"offset\": 0, \"query\": \"dkfjhgkjsdfhgs\", \"type\": \"album\", \"page\": 1}, \"albums\": []}";
	private static final String SINGLE_RESULT_JSON = "{\"info\": {\"num_results\": 1, \"limit\": 100, \"offset\": 0, \"query\": \"the hissing of summer lawns\", \"type\": \"album\", \"page\": 1}, \"albums\": [{\"name\": \"The Hissing Of Summer Lawns\", \"popularity\": \"0.45509\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"603497987139\"}], \"href\": \"spotify:album:3gUlFM3azK6ZIkKz1zK7Nj\", \"artists\": [{\"href\": \"spotify:artist:5hW4L92KnC6dX9t7tYM4Ve\", \"name\": \"Joni Mitchell\"}], \"availability\": {\"territories\": \"AD AI AL AM AT AU AW AX AZ BA BE BG BM BV BY CA CH CY CZ DE DK EE ES FI FK FO FR GE GF GG GI GL GP GR GS HR HU IE IM IO IS IT JE KY LI LT LU LV MC MD ME MK MQ MS MT MX NC NL NO NZ PF PL PM PN PT RE RO RS RU SE SH SI SJ SK SM TC TF TR UA US VA VG WF YT\"}}]}";
	private static final String MULTIPLE_RESULTS_JSON = "{\"info\": {\"num_results\": 24, \"limit\": 100, \"offset\": 0, \"query\": \"sugarman\", \"type\": \"album\", \"page\": 1}, \"albums\": [{\"name\": \"Rio De Janeiro Party Club Hits (The Best Copacabana Limbo Top)\", \"popularity\": \"0.41794\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"887845277640\"}], \"href\": \"spotify:album:2Mv6Rv7Zu2AdXiPc0vPQcf\", \"artists\": [{\"href\": \"spotify:artist:4h2QaToPkcxneMGGNFbGSU\", \"name\": \"Sugarman\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IM IN IO IQ IR IS IT JE JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"Sugarman\", \"popularity\": \"0.34560\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"00602517333314\"}], \"href\": \"spotify:album:6GKw1q92kCHUQrT5rNfmv4\", \"artists\": [{\"href\": \"spotify:artist:3iyorkdGTGQTEk5G9A3tjn\", \"name\": \"The Sugarman\"}], \"availability\": {\"territories\": \"AD AT AU BE CH CN CZ DE DK EE ES FI FR GB HK HR HU IE IL IN IS IT LI LT LU LV MC MY NL NO NZ PL PT RU SE SG SK TH TR TW UA ZA\"}}, {\"name\": \"Pure Cane Sugar\", \"popularity\": \"0.35348\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"803680614150\"}], \"href\": \"spotify:album:44VNgyXFF68xYuZ3s7opoV\", \"artists\": [{\"href\": \"spotify:artist:7q9Fw7TxDUbWJqrySIVpVv\", \"name\": \"Sugarman 3\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IM IN IO IQ IR IS IT JE JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RU RW SA SB SC SD SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"What The World Needs Now\", \"popularity\": \"0.34293\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"886788711785\"}], \"href\": \"spotify:album:7F82kjsQw3nXl92uTsbsTd\", \"artists\": [{\"href\": \"spotify:artist:4yGIAU59dDaVaXMDkicnlF\", \"name\": \"The Sugarman 3\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IM IN IO IQ IR IS IT JE JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RU RW SA SB SC SD SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"Soul Donkey\", \"popularity\": \"0.32248\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"803680618653\"}], \"href\": \"spotify:album:5CWXP7bUbcNfxYrbMY9tcC\", \"artists\": [{\"href\": \"spotify:artist:514vLwgxWSEqoC7s2N1I2C\", \"name\": \"Sugarman Three\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IM IN IO IQ IR IS IT JE JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RU RW SA SB SC SD SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"After the Blackout\", \"popularity\": \"0.28734\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"602143473125\"}], \"href\": \"spotify:album:67Pjc7GqUX6ZDFYNLxy93l\", \"artists\": [{\"href\": \"spotify:artist:4h2QaToPkcxneMGGNFbGSU\", \"name\": \"Sugarman\"}], \"availability\": {\"territories\": \"worldwide\"}}, {\"name\": \"Sugar's Boogaloo\", \"popularity\": \"0.30127\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"803680614556\"}], \"href\": \"spotify:album:16paYCwcCtDWiOQW7I1B9W\", \"artists\": [{\"href\": \"spotify:artist:7q9Fw7TxDUbWJqrySIVpVv\", \"name\": \"Sugarman 3\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IM IN IO IQ IR IS IT JE JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RU RW SA SB SC SD SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"Sweet Spot\", \"popularity\": \"0.29775\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"0881969028102\"}], \"href\": \"spotify:album:2ttqi9204NYHRDJEBDlLIH\", \"artists\": [{\"href\": \"spotify:artist:0FaPF7N3iDfTRHhoBNcTv7\", \"name\": \"Sugarman Three\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IN IO IQ IR IS IT JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"The Best of Sugarman\", \"popularity\": \"0.17522\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"859708792744\"}], \"href\": \"spotify:album:4gtmeSBWtez12pL6Tpdazq\", \"artists\": [{\"href\": \"spotify:artist:0T97B9VbHPjIMl2gvt9UYS\", \"name\": \"Paul Sugarman Neverson\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BL BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IM IN IO IQ IR IS IT JE JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MF MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"Sugarman\", \"popularity\": \"0.14793\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"00602498094716\"}], \"href\": \"spotify:album:0VGQIk8EoBe4nBVTB9Gi7z\", \"artists\": [{\"href\": \"spotify:artist:5mIWUaQzYC5NOkTRbhK7na\", \"name\": \"David Holmes presents The Free Association\"}], \"availability\": {\"territories\": \"GB IE\"}}, {\"name\": \"Pure Cane Sugar\", \"popularity\": \"0.15980\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"803680614150\"}], \"href\": \"spotify:album:0M5zQwdU4ygbjySEYO8xgO\", \"artists\": [{\"href\": \"spotify:artist:4YqwLBAovxgsn5OKKxutwj\", \"name\": \"Sugarman 3 & Co.\"}], \"availability\": {\"territories\": \"SE\"}}, {\"name\": \"Rio De Janeiro Party Club Hits (The Best Copacabana Limbo Top 40)\", \"popularity\": \"0.11320\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"887845330116\"}], \"href\": \"spotify:album:0ZH4FmFMMe8QzWyzjPvfmV\", \"artists\": [{\"href\": \"spotify:artist:4h2QaToPkcxneMGGNFbGSU\", \"name\": \"Sugarman\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IM IN IO IQ IR IS IT JE JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"Sugarman: The Best Of Scorcher Vol. 1\", \"popularity\": \"0.14372\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"634479627446\"}], \"href\": \"spotify:album:795P0kPRLu2jR6sIQMy4h8\", \"artists\": [{\"href\": \"spotify:artist:2BYHpYwXO4zi36Tf3pEH5n\", \"name\": \"Scorcher\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IN IO IQ IR IS IT JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"Don\u2019t Let Me Be Misunderstood (Granite & Sugarman Remixes)\", \"popularity\": \"0.11827\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"894231281921\"}], \"href\": \"spotify:album:1ldKkMqE8WU844DCKCRxGH\", \"artists\": [{\"href\": \"spotify:artist:0iGmfKLgK5eSMgHp8YgLnS\", \"name\": \"Santa Esmeralda\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IN IO IQ IR IS IT JM JO KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"Black Magic\", \"popularity\": \"0.07788\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"3610150167187\"}], \"href\": \"spotify:album:4XFgLSyHu1np4lbpnL4E87\", \"artists\": [{\"href\": \"spotify:artist:4h2QaToPkcxneMGGNFbGSU\", \"name\": \"Sugarman\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IN IO IQ IR IS IT JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"The Riddle\", \"popularity\": \"0.00036\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"05037300744490\"}], \"href\": \"spotify:album:0tiIlhyFcpJhX6OgcZT850\", \"artists\": [{\"href\": \"spotify:artist:1eiyXkVtmE3agelyg6jty2\", \"name\": \"The Sugarman Vs Harry Dean Stanton\"}], \"availability\": {\"territories\": \"GB IE\"}}, {\"name\": \"Sugarman\", \"popularity\": \"0.03836\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"05037300735825\"}], \"href\": \"spotify:album:4AsmdwtwUwQ23Sx3DZ3dsP\", \"artists\": [{\"href\": \"spotify:artist:3iyorkdGTGQTEk5G9A3tjn\", \"name\": \"The Sugarman\"}], \"availability\": {\"territories\": \"GB IE\"}}, {\"name\": \"Sugarman E.P.\", \"popularity\": \"0.01807\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"0881969242553\"}], \"href\": \"spotify:album:5fDCE0RPl8n9j0kOmazJsc\", \"artists\": [{\"href\": \"spotify:artist:4ecAOoYlRe4ThKUBNnHQGp\", \"name\": \"Da Funk\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IN IO IQ IR IS IT JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"Time 4 Love\", \"popularity\": \"0.02303\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"799842633421\"}], \"href\": \"spotify:album:014IAYaEGCF4WoFGddccoU\", \"artists\": [{\"href\": \"spotify:artist:4nrd8VEjHC3EUJJezwH391\", \"name\": \"Stanley Sugarman Brown\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IN IO IQ IR IS IT JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"Lose Yourself\", \"popularity\": \"0.01628\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"3610150221704\"}], \"href\": \"spotify:album:1SNeihHGyl0BbilMah4bcs\", \"artists\": [{\"href\": \"spotify:artist:2ryPMTzqlefUC8jJqsiXIt\", \"name\": \"SugaRman PauL\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IN IO IQ IR IS IT JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"Somebody Like You\", \"popularity\": \"0.01750\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"3610150264732\"}], \"href\": \"spotify:album:2HkzM3oZpTlqXBTwbFBJw4\", \"artists\": [{\"href\": \"spotify:artist:2ryPMTzqlefUC8jJqsiXIt\", \"name\": \"SugaRman PauL\"}], \"availability\": {\"territories\": \"AD AE AF AG AI AL AM AN AO AQ AR AS AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BM BN BO BR BS BT BV BW BY BZ CA CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GL GM GN GP GQ GR GS GT GU GW GY HK HM HN HR HT HU ID IE IL IN IO IQ IR IS IT JM JO JP KE KG KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MG MH MK ML MM MN MO MP MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PM PN PR PS PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UM US UY UZ VA VC VE VG VI VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"Sugarman\", \"popularity\": \"0.00631\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"5099972568057\"}], \"href\": \"spotify:album:7hxVjtDSbOKMNxVSmkUm1x\", \"artists\": [{\"href\": \"spotify:artist:2NsPu9shOTsojNUZyw22pR\", \"name\": \"ChianoSky\"}], \"availability\": {\"territories\": \"AD AE AG AI AL AM AN AO AQ AR AT AU AW AX AZ BA BB BD BE BF BG BH BI BJ BL BN BO BR BS BT BV BW BY BZ CC CD CF CG CH CI CK CL CM CN CO CR CU CV CX CY CZ DE DJ DK DM DO DZ EC EE EG EH ER ES ET FI FJ FK FM FO FR GA GB GD GE GF GG GH GI GM GN GP GQ GR GS GT GW GY HK HM HN HR HT HU ID IE IL IM IN IO IQ IR IS IT JE JM JO KE KH KI KM KN KP KR KW KY KZ LA LB LC LI LK LR LS LT LU LV LY MA MC MD ME MF MG MH ML MN MO MQ MR MS MT MU MV MW MX MY MZ NA NC NE NF NG NI NL NO NP NR NU NZ OM PA PE PF PG PH PK PL PN PR PT PW PY QA RE RO RS RU RW SA SB SC SD SE SG SH SI SJ SK SL SM SN SO SR ST SV SY SZ TC TD TF TG TH TJ TK TL TM TN TO TR TT TV TW TZ UA UG UY UZ VC VE VG VN VU WF WS YE YT ZA ZM ZW ZZ\"}}, {\"name\": \"Sugar's Boogaloo\", \"popularity\": \"0.03851\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"884385896621\"}], \"href\": \"spotify:album:07zlbSUeC6TqXxwniPxAVD\", \"artists\": [{\"href\": \"spotify:artist:514vLwgxWSEqoC7s2N1I2C\", \"name\": \"Sugarman Three\"}], \"availability\": {\"territories\": \"SE\"}}, {\"name\": \"What The World Needs Now\", \"popularity\": \"0.02000\", \"external-ids\": [{\"type\": \"upc\", \"id\": \"886788711785\"}], \"href\": \"spotify:album:3f1kKQahgyLkIE5TsLfEdX\", \"artists\": [{\"href\": \"spotify:artist:4yGIAU59dDaVaXMDkicnlF\", \"name\": \"The Sugarman 3\"}], \"availability\": {\"territories\": \"SE\"}}]}";

	private SpotifyAlbumSearchJsonConverter cut;

	@Before
	public void setup()
	{
		cut = new SpotifyAlbumSearchJsonConverter();
	}

	@Test
	public void testNoResults() throws ConverterException
	{
		final JSONObject json = new JSONObject(NO_RESULTS_JSON);
		final List<Album> result = cut.convert(json);
		Assert.assertEquals(0, result.size());
	}

	@Test
	public void testSingleResult() throws ConverterException
	{
		final JSONObject json = new JSONObject(SINGLE_RESULT_JSON);
		final List<Album> result = cut.convert(json);
		Assert.assertEquals(1, result.size());
		final Album album = result.get(0);
		Assert.assertEquals(EDaoType.SPOTIFY_DIRECT, album.getSource());
		Assert.assertEquals("The Hissing Of Summer Lawns", album.getName());
		Assert.assertEquals(0.45509f, album.getPopularity());
		Assert.assertEquals("spotify:album:3gUlFM3azK6ZIkKz1zK7Nj", album.getLocation());
		Assert.assertEquals("3gUlFM3azK6ZIkKz1zK7Nj", album.getId());
		Assert.assertEquals("Joni Mitchell", album.getArtistName());
		Assert.assertEquals("5hW4L92KnC6dX9t7tYM4Ve", album.getAttribute(SpotifyJsonConverter.SPOTIFY_ARTIST_ID_ATTRIBUTE));
		Assert.assertEquals("3gUlFM3azK6ZIkKz1zK7Nj", album.getAttribute(SpotifyJsonConverter.SPOTIFY_ALBUM_ID_ATTRIBUTE));
		Assert.assertNull(album.getAttribute(SpotifyJsonConverter.SPOTIFY_TRACK_ID_ATTRIBUTE));
	}

	@Test
	public void testMultipleResults() throws ConverterException
	{
		final JSONObject json = new JSONObject(MULTIPLE_RESULTS_JSON);
		final List<Album> result = cut.convert(json);
		Assert.assertEquals(24, result.size());
		final Album album = result.get(0);
		Assert.assertEquals(EDaoType.SPOTIFY_DIRECT, album.getSource());
		Assert.assertEquals("Rio De Janeiro Party Club Hits (The Best Copacabana Limbo Top)", album.getName());
		Assert.assertEquals(0.41794f, album.getPopularity());
		Assert.assertEquals("spotify:album:2Mv6Rv7Zu2AdXiPc0vPQcf", album.getLocation());
		Assert.assertEquals("2Mv6Rv7Zu2AdXiPc0vPQcf", album.getId());
		Assert.assertEquals("Sugarman", album.getArtistName());
		Assert.assertEquals("4h2QaToPkcxneMGGNFbGSU", album.getAttribute(SpotifyJsonConverter.SPOTIFY_ARTIST_ID_ATTRIBUTE));
		Assert.assertEquals("2Mv6Rv7Zu2AdXiPc0vPQcf", album.getAttribute(SpotifyJsonConverter.SPOTIFY_ALBUM_ID_ATTRIBUTE));
		Assert.assertNull(album.getAttribute(SpotifyJsonConverter.SPOTIFY_TRACK_ID_ATTRIBUTE));
	}
}
